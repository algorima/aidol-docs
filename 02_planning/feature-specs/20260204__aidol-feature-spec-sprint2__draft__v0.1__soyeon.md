# AIdol 기능 명세서 - Sprint 2

> **작성일**: 2026-02-04 (수정: 2026-02-08)
> **상태**: draft
> **버전**: v0.2
> **작성자**: soyeon
> **출처**: [Notion 전체 기능 명세서](https://www.notion.so/2ec46f965504805a94fbed8c0109cd91)

---

## 개요

Sprint 2는 **관계 설정 및 세계관 구축**에 초점을 맞춥니다.
Sprint 1에서 생성한 그룹의 멤버들 간 관계를 설정하고, 캐릭터 서사를 추가하여 더 풍부한 스토리를 만들어갑니다.

---

## 0. 홈 화면 콘텐츠 구조 (2026-02-08 긴급 회의 결정)

> Sprint 2 개발 과정에서 홈 화면의 콘텐츠 표시 방식에 대한 기획-개발 간 인식 차이가 발견되어 긴급 회의를 통해 아래 사항을 결정함.

### 0.1 배경

홈 화면에 "내가 만든 그룹"과 "다른 그룹(프리셋)" 콘텐츠가 구분 없이 모두 표시되도록 구현되어 있었으며, 두 가지 문제가 있었음:

1. **콘텐츠 포맷 불일치**: 내 그룹 콘텐츠(인터뷰어 + 멤버 1명, 1:1 인터뷰 형식)와 다른 그룹 콘텐츠(멤버 여러 명 등장, 그룹 콘텐츠 형식)의 포맷이 달라 UI/UX 일관성 없음
2. **공개/비공개 구분 부재**: 그룹 생성자만 볼 수 있는 콘텐츠와 모두에게 공개되는 콘텐츠를 구분할 방법 없음

### 0.2 콘텐츠 공개/비공개 구분

| 항목 | 내용 |
|------|------|
| **설명** | 하이라이트 콘텐츠에 `is_premium` 필드를 추가하여 공개/비공개를 구분 |
| **기능 명세** | - `is_premium = false` (기본값): 모두에게 공개. 홈 화면에 표시<br>- `is_premium = true`: 그룹 생성자만 조회 가능한 프리미엄 콘텐츠<br>- 홈 화면 조회 시 `is_premium = false`인 콘텐츠만 필터링하여 표시<br>- 내 그룹 페이지에서는 해당 그룹의 모든 콘텐츠(public + premium) 조회 가능 |
| **데이터 모델** | `aidol_highlights` 테이블에 `is_premium BOOLEAN DEFAULT FALSE` 필드 추가 |
| **플랫폼 개념** | 유튜브와 유사: 기본은 공개, 선택적으로 비공개(프리미엄/멤버십 전용) |

### 0.3 콘텐츠 포맷 통일

| 항목 | 내용 |
|------|------|
| **설명** | 내 그룹과 다른 그룹의 하이라이트 콘텐츠 포맷을 동일하게 통일 |
| **기능 명세** | - 모든 하이라이트는 **멤버 여러 명이 등장하는 그룹 콘텐츠 형식**으로 통일<br>- 1:1 인터뷰 형식 폐기<br>- 동일한 UI 컴포넌트로 모든 하이라이트 표시<br>- 프리셋 그룹과 유저 생성 그룹 모두 같은 포맷 적용 |

### 0.4 홈 화면 표시 규칙

| 항목 | 내용 |
|------|------|
| **설명** | 홈 화면에서 하이라이트 콘텐츠의 표시 규칙 |
| **기능 명세** | - 홈 화면에는 `is_premium = false`인 하이라이트 썸네일을 표시<br>- 내 그룹/다른 그룹 구분 없이 public 콘텐츠 전체 노출<br>- 썸네일 클릭 시 해당 그룹의 하이라이트 상세 페이지로 이동<br>- 프리셋 그룹 9개 (각 2개 하이라이트)가 기본 콘텐츠로 제공됨 |

---

## 1. 관계 지도 도착 이메일 (이메일 템플릿)

Sprint 2 진입점으로, Sprint 1에서 생성한 그룹의 관계 지도 도착을 알리는 이메일 마케팅입니다.

| 항목 | 내용 |
|------|------|
| **설명** | Sprint 1 완료 후 약 1주일 경과 시, 콘텐츠 형태의 이메일 제공 |
| **기능 명세** | - 헤더: 서비스 로고<br>- 타이틀: 숙소생활 1주일 후 이벤트 후킹 문구<br>- 프리뷰: 멤버 대화 미리보기, 상황 이미지, 멤버 간 갈등/케미 암시하는 대화 스니펫<br>- CTA: 숙소 생활 후기 보러가기, 딥링크 → 내 그룹(MyGroup) |

---

## 2. DM 예고 영역 (내 그룹(MyGroup) 페이지)

Sprint 3 DM 기능 티저입니다.

| 항목 | 내용 |
|------|------|
| **설명** | Sprint 3 DM 기능 티저 |
| **기능 명세** | - "멤버들과 채팅 준비중" 문구 표시<br>- 비활성 상태로 노출 |

---

## 3. 멤버별 후기 (숙소 생활 썰)

Sprint 2 인트로 콘텐츠로, 멤버들이 1주일간 함께 생활하며 느낀 서로에 대한 후기 코멘트입니다.

| 항목 | 내용 |
|------|------|
| **설명** | - 각 멤버가 다른 멤버에 대해 짧은 코멘트를 남긴 형태로 제공<br>- 예: "원빈이는 춤을 너무 잘 춰서 기가 죽었어요", "쟤는 코를 너무 골아요" |
| **기능 명세** | - 그룹별 2개의 후기 콘텐츠 수동으로 제작<br>- 포지션, 성격, 스탯을 참고 |

---

## 4. 관계 지도 프리셋

자동 생성된 기본 관계 설정으로, 포지션 및 캐릭터 속성 기반으로 자동 생성된 관계 맵을 제공합니다.

| 항목 | 내용 |
|------|------|
| **설명** | - 리더↔막내 관계, 메인보컬↔서브보컬 관계, 동갑 멤버 관계 등 기본적인 관계가 이미 설정되어 있는 상태로 제공 |
| **기능 명세** | - 포지션 기반 자동 관계 생성: 리더↔막내, 메인댄서↔리드댄서 등<br>- 나이 기반 자동 관계: 동갑, 형/동생 라인<br>- 관계 카테고리: 동료, 라이벌, 사제, 동갑친구 등<br>- **프리셋 관계 설정은 양방향** (시스템이 자동 생성하므로 A↔B 양쪽 모두에게 표시) |

---

## 5. 캐릭터 서사 설정

개별 멤버 프로필 확장으로, 각 멤버의 배경 스토리, 성격 특성, 습관 등 상세 설정입니다.

| 항목 | 내용 |
|------|------|
| **설명** | - 포스타입 캐릭터 설정 방식 참고<br>- 프롬프트 형식이 아닌 자유로운 텍스트로 작성 → 시스템이 프롬프트화 |
| **기능 명세** | - 서사 입력 필드: 자유 텍스트 (최대 500자)<br>- 예시 제공: "대형 기획사에서 데뷔 직전 엎어진 후 재도전", "연습생 중, 가장 늦게 들어왔지만 보컬 실력은 최고" 등<br>- AI가 자유 텍스트를 캐릭터 프롬프트로 변환<br>- 서사가 채팅 및 관계 설정에 반영됨<br>- 프리셋 멤버는 기본 서사 제공, 신규 생성 멤버는 사용자 작성 |

---

## 6. 관계 디테일 설정

사용자 커스텀 관계 추가로, 프리셋 관계 외에 사용자가 원하는 관계 디테일을 추가합니다.

| 항목 | 내용 |
|------|------|
| **설명** | - 두 멤버를 선택하여 관계 유형 지정 및 CP명(커플링명) 부여<br>- 예: 소꿉친구, 같은 학교 출신, 멍멍즈(둘 다 강아지상) |
| **기능 명세** | - 멤버 2명 선택 → 관계 유형 선택/입력<br>- 관계 유형 프리셋: 소꿉친구, 라이벌, 같은 학교, 같은 기획사 출신, 룸메이트 등<br>- 커스텀 관계 유형 입력 가능<br>- 관계 별칭 입력 필드: 예) "멍멍즈", "동갑즈", "자석즈"<br>- **커스텀 관계 설정은 단방향** (사용자가 A→B 관계만 설정, B의 프로필에는 "A가 나를 라이벌로 지정"처럼 수동태로 표시) |
| **Figma 링크** | [Figma](https://www.figma.com/design/UAYebrdbyKuZ76pwBN5UuV/UI?node-id=987-6600) |

---

## 7. 관계 보드 (최종 결과)

Sprint 2 결과 화면으로, 완성된 그룹 관계 맵을 시각화합니다.

| 항목 | 내용 |
|------|------|
| **설명** | - 모든 멤버의 관계가 노드와 엣지로 표현된 관계 보드<br>- 각 관계선에 관계 유형과 CP명 표시 |
| **기능 명세** | - 멤버 노드 클릭 시 해당 멤버의 모든 관계 하이라이트<br>- 관계선 클릭 시 상세 정보 팝업 (관계 유형, CP명, 케해)<br>- 관계 보드 이미지 저장/공유 기능<br>- "관계 더 설정하기" 버튼으로 수정 가능 |

---

## 8. 스프린트 3 예고

Sprint 2 엔딩 / Sprint 3 연결로, 멤버와 직접 대화할 수 있다는 예고입니다.

| 항목 | 내용 |
|------|------|
| **설명** | - "멤버들이 할 말이 있대요" 형태로 스프린트 3(채팅) 예고<br>- 알림 수신 동의 유도 |
| **기능 명세** | - 특정 멤버 노드에 "할 말 있어요" 뱃지 표시<br>- 뱃지 클릭 시 "곧 대화할 수 있어요" 안내<br>- 알림 수신 동의 수집: 이메일(필수, 스프린트 3 출시 안내 메일 발송용) + 휴대폰 번호(선택, 문자 알림용), 각 채널별 수신 동의 체크박스 제공<br>- 스프린트 3 출시 시 이메일/문자 발송 |
